#!/usr/bin/env bash


export BASE_PATH=$(dirname $0)

root=${ROOT:-}

export RUN_DIR=${root}/var/vcap/sys/run/garden
export LOG_DIR=${root}/var/vcap/sys/log/garden
export PIDFILE="${root}${RUN_DIR}/garden.pid"
export DATA_DIR=${root}/var/vcap/data

export GARDEN_DIR=/var/vcap/data/garden
export GARDEN_CONFIG_DIR=/var/vcap/jobs/garden/config

<%# export MONIT_DIR=/var/vcap/sys/log/monit %>
export DEPOT_PATH="${root}${GARDEN_DIR}/depot"
export RUNTIME_BIN_DIR="${root}${GARDEN_DIR}/bin"
export GRAPH_PATH="${root}${GARDEN_DIR}/graph"
export TMPDIR=${root}/var/vcap/data/tmp

export PATH="/var/vcap/packages/guardian/bin:${PATH}"
export PATH="/var/vcap/packages/iptables/sbin:${PATH}"
export PATH="/var/vcap/packages/garden-idmapper/bin:${PATH}"
export PATH="/var/vcap/jobs/garden/bin:${PATH}"
<%# export MAXIMUS=$(maximus) %>
export MAXIMUS=1000

<% if_p('garden.http_proxy') do |http_proxy| %>
export HTTP_PROXY='<%= http_proxy %>'
export http_proxy='<%= http_proxy %>'
<% end %>
<% if_p('garden.https_proxy') do |https_proxy| %>
export HTTPS_PROXY='<%= https_proxy %>'
export https_proxy='<%= https_proxy %>'
<% end %>
<% if_p('garden.no_proxy') do |no_proxy| %>
export NO_PROXY='<%= no_proxy %>'
export no_proxy='<%= no_proxy %>'
<% end %>
